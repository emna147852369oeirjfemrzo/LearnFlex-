{# Layout commun pour les pages front avec header et footer #}
{% extends 'front/home.html.twig' %}

{% block header %}
<header class="landing-header">
    <div class="container">
        <div class="header-left">
            <div class="logo">
                {% if app.user and ('ROLE_ADMIN' in app.user.roles or 'ROLE_ENSEIGNANT' in app.user.roles) %}
                    <a href="{{ path('dashboard') }}">
                        <img src="{{ asset('assets/images/logo1.png') }}" alt="LearnFlexPlus Logo" class="main-logo">
                        <span class="logo-text">LearnFlexPlus</span>
                    </a>
                {% else %}
                    <a href="{{ path('app_front') }}">
                        <img src="{{ asset('assets/images/logo1.png') }}" alt="LearnFlexPlus Logo" class="main-logo">
                        <span class="logo-text">LearnFlexPlus</span>
                    </a>
                {% endif %}
            </div>
        </div>

        <nav class="main-nav">
            <ul>
                <li class="{{ app.request.attributes.get('_route') == 'app_front' ? 'active' : '' }}"><a href="{{ path('app_front') }}">Accueil</a></li>
                <li><a href="#">Contenus pédagogiques</a></li>
                <li><a href="#">Evaluation</a></li>
                <li><a href="#">Questionnaire</a></li>
                <li class="{{ app.request.attributes.get('_route') in ['etudiant_evenements', 'etudiant_evenement_show'] ? 'active' : '' }}"><a href="{{ path('etudiant_evenements') }}">Orientation</a></li>
                <li class="{{ app.request.attributes.get('_route') in ['front_organismes', 'etudiant_organismes', 'front_organisme_show'] ? 'active' : '' }}"><a href="{{ path('front_organismes') }}">Organismes</a></li>
                <li><a href="#">Forum</a></li>
            </ul>
        </nav>

        <div class="header-right">
            {% if app.user and ('ROLE_ADMIN' in app.user.roles or 'ROLE_ENSEIGNANT' in app.user.roles) %}
                <a href="{{ path('dashboard') }}" class="btn btn-outline dashboard-btn">Dashboard</a>
            {% endif %}

            {% if app.user %}
                <form action="{{ path('app_logout') }}" method="post" style="display:inline;">
                    <button type="submit" class="btn btn-primary logout-btn">Déconnexion</button>
                </form>
            {% else %}
                <a href="{{ path('app_login') }}" class="btn btn-primary">Connexion</a>
            {% endif %}

            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>
</header>
{% endblock %}

{% block footer %}
<footer class="main-footer">
  <div class="container">
    <div class="footer-top">
      <div class="footer-logo">
        <img src="{{ asset('assets/images/logo1.png') }}" alt="LearnFlex+ Logo" class="footer-logo-img">
        <span>LearnFlex+</span>
      </div>
      <div class="footer-slogan">
        <p>Apprends malin, ton bac en main</p>
      </div>
      <div class="footer-social">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>

    <div class="footer-middle">
      <div class="footer-column">
        <h4>Services</h4>
        <ul>
          <li><a href="#">Cours</a></li>
          <li><a href="#">Quiz & Evaluations</a></li>
          <li><a href="#">Forum</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>À propos</h4>
        <ul>
          <li><a href="#">Notre mission</a></li>
          <li><a href="{{ path('etudiant_evenements') }}">Orientation</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Légal</h4>
        <ul>
          <li><a href="#">Conditions d'utilisation</a></li>
          <li><a href="#">Politique de confidentialité</a></li>
          <li><a href="#">Cookies</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Contact</h4>
        <ul>
          <li><i class="fas fa-map-marker-alt"></i> 123 Avenue Habib Bourguiba, Tunis</li>
          <li><i class="fas fa-phone"></i> +216 71 123 456</li>
          <li><i class="fas fa-envelope"></i> contact@learnflexplus.com</li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2026 LearnFlex+. Tous droits réservés.</p>
    </div>
  </div>
</footer>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script>
  document.querySelector('.mobile-menu-btn')?.addEventListener('click', function() {
    document.querySelector('.main-nav')?.classList.toggle('active');
  });
</script>
{% endblock %}
